<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Embree: High Performance Ray Tracing Kernels" />
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
    <title>Embree</title>
    <link rel="icon" type="image/png" href="images/icon192.png" sizes="192x192">
    <link rel="SHORTCUT ICON" HREF="images/icon32.ico">
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
      <div class="inner">
        <a id="forkme_banner" href="https://github.com/embree">View on GitHub</a>
        <h1 id="project_title">Embree</h1>
        <h2 id="project_tagline">High Performance Ray Tracing Kernels</h2>
      </div>

      <div id="nav">
      <div id="nbar">
        <ul>
          <li><a href="index.html">Overview</a></li>
          <li id="selected"><a href="downloads.html">Downloads</a></li>
          <li><a href="api.html">API</a></li>
          <li><a href="tutorials.html">Tutorials</a></li>
          <li><a href="gallery.html">Gallery</a></li>
          <li><a href="related.html">Related Projects</a></li>
        </ul>
      </div>
      </div>

    </div>

    <a id="news_banner" href="https://github.com/embree/embree/releases">
      We recently released Embree v3.0.0!
    </a>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <div id="main_content" class="inner">
<h2 id="supported-platforms">Supported Platforms</h2>
<p>Embree supports Windows (32-bit and 64-bit), Linux (64-bit), and macOS (64-bit). The code compiles with the Intel® Compiler, GCC, Clang, and the Microsoft Compiler.</p>
<p>Using the Intel® Compiler improves performance by approximately 10%. Performance also varies across different operating systems, with Linux typically performing best as it supports transparently transitioning to 2MB pages.</p>
<p>Embree is optimized for Intel CPUs supporting SSE, AVX, AVX2, and AVX-512 instructions, and requires at least a CPU with support for SSE2.</p>
<h2 id="downloading-embree">Downloading Embree</h2>
<p>For Windows we provide an MSI installer and ZIP files for precompiled Embree binaries:</p>
<p><a href="https://github.com/embree/embree/releases/download/v3.0.0/embree-3.0.0.x64.msi">embree-3.0.0-x64.msi</a><br /><a href="https://github.com/embree/embree/releases/download/v3.0.0/embree-3.0.0.x64.windows.zip">embree-3.0.0.x64.windows.zip</a></p>
<p>For Linux we provide Embree precompiled as RPMs or as a <code>tar.gz</code> file:</p>
<p><a href="https://github.com/embree/embree/releases/download/v3.0.0/embree-3.0.0.x86_64.rpm.tar.gz">embree-3.0.0.x86_64.rpm.tar.gz</a><br /><a href="https://github.com/embree/embree/releases/download/v3.0.0/embree-3.0.0.x86_64.linux.tar.gz">embree-3.0.0.x86_64.linux.tar.gz</a></p>
<p>For macOS we provide Embree as an installer and as a <code>tar.gz</code> file:</p>
<p><a href="https://github.com/embree/embree/releases/download/v3.0.0/embree-3.0.0.x86_64.dmg">embree-3.0.0.x86_64.dmg</a><br /><a href="https://github.com/embree/embree/releases/download/v3.0.0/embree-3.0.0.x86_64.macosx.tar.gz">embree-3.0.0.x86_64.macosx.tar.gz</a></p>
<p>For the first generation Intel® Xeon Phi™ coprocessor (codenamed Knights Corner) we provide Embree v2.9.0 precompiled for Linux as RPMs or as a <code>tar.gz</code> file:</p>
<p><a href="https://github.com/embree/embree/releases/download/v2.9.0/embree-knc-2.9.0.x86_64.rpm.tar.gz">embree-knc-2.9.0.x86_64.rpm.tar.gz</a><br /><a href="https://github.com/embree/embree/releases/download/v2.9.0/embree-knc-2.9.0.x86_64.linux.tar.gz">embree-knc-2.9.0.x86_64.linux.tar.gz</a></p>
<p>The source code of the latest Embree version can be downloaded here:</p>
<p><a href="https://github.com/embree/embree/archive/v3.0.0.zip">embree-3.0.0.zip</a><br /><a href="https://github.com/embree/embree/archive/v3.0.0.tar.gz">embree-3.0.0.tar.gz</a></p>
<p>You can access old Embree releases at <a href="https://github.com/embree/embree/releases" class="uri">https://github.com/embree/embree/releases</a>.</p>
<p>Alternatively you can also use <code>git</code> to get the source code of Embree v3.0.0</p>
<pre><code>$ git clone https://github.com/embree/embree.git embree
$ cd embree
$ git checkout v3.0.0</code></pre>
<p>You can also check out the source code of Embree with subversion:</p>
<pre><code>$ svn checkout https://github.com/embree/embree.git/tags/v3.0.0 embree
$ cd embree</code></pre>
<p>If you encounter bugs please report them to the <a href="https://github.com/embree/embree/issues">GitHub Issue Tracker</a> for Embree.</p>
<h1 id="installation-of-embree">Installation of Embree</h1>
<h2 id="windows-msi-installer">Windows MSI Installer</h2>
<p>You can install the Embree library using the Windows MSI installer <a href="https://github.com/embree/embree/releases/download/v3.0.0/embree-3.0.0.x64.msi">embree-3.0.0-x64.msi</a>. This will install the 64-bit Embree version by default in <code>Program Files\Intel\Embree v3.0.0 x64</code>.</p>
<p>You have to set the path to the <code>bin</code> folders manually to your <code>PATH</code> environment variable for applications to find Embree.</p>
<p>To compile applications with Embree using CMake, please have a look at the <code>find_embree</code> tutorial. To compile this tutorial, you need to set the <code>embree_DIR</code> CMake variable of this tutorial to <code>Program Files\Intel\Embree v3.0.0 x64</code>.</p>
<p>To uninstall Embree, open <code>Programs and Features</code> by clicking the <code>Start button</code>, clicking <code>Control Panel</code>, clicking <code>Programs</code>, and then clicking <code>Programs and Features</code>. Select <code>Embree 3.0.0 x64</code> and uninstall it.</p>
<h2 id="windows-zip-file">Windows ZIP File</h2>
<p>Embree is also delivered as a ZIP file <a href="https://github.com/embree/embree/releases/download/v3.0.0/embree-3.0.0.x64.windows.zip">embree-3.0.0.x64.windows.zip</a>. After unpacking this ZIP file, you should set the path to the <code>lib</code> folder manually to your <code>PATH</code> environment variable for applications to find Embree. To compile applications with Embree, you also have to set the <code>Include Directories</code> path in Visual Studio to the <code>include</code> folder of the Embree installation.</p>
<p>If you plan to ship Embree with your application, best use the Embree version from this ZIP file.</p>
<h2 id="linux-rpms">Linux RPMs</h2>
<p>Uncompress the <code>tar.gz</code> file <a href="https://github.com/embree/embree/releases/download/v3.0.0/embree-3.0.0.x86_64.rpm.tar.gz">embree-3.0.0.x86_64.rpm.tar.gz</a> to obtain the individual RPM files:</p>
<pre><code>tar xzf embree-3.0.0.x86_64.rpm.tar.gz</code></pre>
<p>To install Embree using the RPM packages on your Linux system, type the following:</p>
<pre><code>sudo rpm --install embree-lib-3.0.0-1.x86_64.rpm
sudo rpm --install embree-devel-3.0.0-1.noarch.rpm
sudo rpm --install embree-examples-3.0.0-1.x86_64.rpm</code></pre>
<p>You also have to install the Intel® Threading Building Blocks (TBB) using <code>yum</code>:</p>
<pre><code>sudo yum install tbb.x86_64 tbb-devel.x86_64</code></pre>
<p>On Debian-based Linux distributions you first need to convert the RPM filed into DEB files using the <code>alien</code> tool:</p>
<pre><code>sudo apt-get install alien dpkg-dev debhelper build-essential

sudo alien embree-lib-3.0.0-1.x86_64.rpm
sudo alien embree-devel-3.0.0-1.noarch.rpm
sudo alien embree-examples-3.0.0-1.x86_64.rpm

sudo dpkg -i embree-devel_3.0.0-2_all.deb
sudo dpkg -i embree-examples_3.0.0-2_amd64.deb
sudo dpkg -i embree-lib_3.0.0-2_amd64.deb</code></pre>
<p>Also install the Intel® Threading Building Blocks (TBB) using <code>apt-get</code>:</p>
<pre><code>sudo apt-get install libtbb-dev</code></pre>
<p>Alternatively you can download the latest TBB version from <a href="https://www.threadingbuildingblocks.org/download" class="uri">https://www.threadingbuildingblocks.org/download</a> and set the <code>LD_LIBRARY_PATH</code> environment variable to point to the TBB library.</p>
<p>Note that the Embree RPMs are linked against the TBB version coming with CentOS. This older TBB version is missing some features required to get optimal build performance, and does not support building of scenes lazily during rendering. To get a full featured Embree, please install using the <code>tar.gz</code> files, which always ship with the latest TBB version.</p>
<p>Under Linux, Embree is installed by default in the <code>/usr/lib64</code> and <code>/usr/include</code> directories. This way applications will find Embree automatically. The Embree tutorials are installed into the <code>/usr/bin/embree3</code> folder. Specify the full path to the tutorials to start them.</p>
<p>To uninstall Embree, just execute the following:</p>
<pre><code>sudo rpm --erase embree-lib-3.0.0-1.x86_64
sudo rpm --erase embree-devel-3.0.0-1.noarch
sudo rpm --erase embree-examples-3.0.0-1.x86_64</code></pre>
<h2 id="linux-tar.gz-files">Linux tar.gz Files</h2>
<p>The Linux version of Embree is also delivered as a <code>tar.gz</code> file: <a href="https://github.com/embree/embree/releases/download/v3.0.0/embree-3.0.0.x86_64.linux.tar.gz">embree-3.0.0.x86_64.linux.tar.gz</a>. Unpack this file using <code>tar</code> and source the provided <code>embree-vars.sh</code> (if you are using the bash shell) or <code>embree-vars.csh</code> (if you are using the C shell) to set up the environment properly:</p>
<pre><code>tar xzf embree-3.0.0.x64.linux.tar.gz
source embree-3.0.0.x64.linux/embree-vars.sh</code></pre>
<p>If you want to ship Embree with your application, best use the Embree version provided in the <code>tar.gz</code> file.</p>
<p>We recommend adding a relative <code>RPATH</code> to your application that points to the location where Embree (and TBB) can be found, e.g. <code>$ORIGIN/../lib</code>.</p>
<h2 id="macos-pkg-installer">macOS PKG Installer</h2>
<p>To install the Embree library on your macOS system use the provided package installer inside <a href="https://github.com/embree/embree/releases/download/v3.0.0/embree-3.0.0.x86_64.dmg">embree-3.0.0.x86_64.dmg</a>. This will install Embree by default into <code>/opt/local/lib</code> and <code>/opt/local/include</code> directories. The Embree tutorials are installed into the <code>/Applications/Embree3</code> directory.</p>
<p>You also have to install the Intel® Threading Building Blocks (TBB) using <a href="http://www.macports.org/">MacPorts</a>:</p>
<pre><code>sudo port install tbb</code></pre>
<p>Alternatively you can download the latest TBB version from <a href="https://www.threadingbuildingblocks.org/download" class="uri">https://www.threadingbuildingblocks.org/download</a> and set the <code>DYLD_LIBRARY_PATH</code> environment variable to point to the TBB library.</p>
<p>To uninstall Embree, execute the uninstaller script <code>/Applications/Embree3/uninstall.command</code>.</p>
<h2 id="macos-tar.gz-file">macOS tar.gz file</h2>
<p>The macOS version of Embree is also delivered as a <code>tar.gz</code> file: <a href="https://github.com/embree/embree/releases/download/v3.0.0/embree-3.0.0.x86_64.macosx.tar.gz">embree-3.0.0.x86_64.macosx.tar.gz</a>. Unpack this file using <code>tar</code> and source the provided <code>embree-vars.sh</code> (if you are using the bash shell) or <code>embree-vars.csh</code> (if you are using the C shell) to set up the environment properly:</p>
<pre><code>tar xzf embree-3.0.0.x64.macosx.tar.gz
source embree-3.0.0.x64.macosx/embree-vars.sh</code></pre>
<p>If you want to ship Embree with your application, please use the Embree library of the provided <code>tar.gz</code> file. The library name of that Embree library is of the form <code>@rpath/libembree.3.dylib</code> (and similar also for the included TBB library). This ensures that you can add a relative <code>RPATH</code> to your application that points to the location where Embree (and TBB) can be found, e.g. <code>@loader_path/../lib</code>.</p>
<h1 id="compiling-embree">Compiling Embree</h1>
<p>We recommend to use CMake to build Embree. Do not enable fast-math optimizations; these might break Embree.</p>
<h2 id="linux-and-macos">Linux and macOS</h2>
<p>To compile Embree you need a modern C++ compiler that supports C++11. Embree is tested with Intel® Compiler 17.0 (Update 1), Intel® Compiler 16.0 (Update 1), Clang 3.8.0 (supports AVX2), Clang 4.0.0 (supports AVX512) and GCC 5.4.0. If the GCC that comes with your Fedora/Red Hat/CentOS distribution is too old then you can run the provided script <code>scripts/install_linux_gcc.sh</code> to locally install a recent GCC into <code>$HOME/devtools-2</code>.</p>
<p>Embree supports using the Intel® Threading Building Blocks (TBB) as the tasking system. For performance and flexibility reasons we recommend to use Embree with the Intel® Threading Building Blocks (TBB) and best also use TBB inside your application. Optionally you can disable TBB in Embree through the <code>EMBREE_TASKING_SYSTEM</code> CMake variable.</p>
<p>Embree supports the Intel® SPMD Program Compiler (ISPC), which allows straightforward parallelization of an entire renderer. If you do not want to use ISPC then you can disable <code>EMBREE_ISPC_SUPPORT</code> in CMake. Otherwise, download and install the ISPC binaries (we have tested ISPC version 1.9.1) from <a href="https://ispc.github.io/downloads.html">ispc.github.io</a>. After installation, put the path to <code>ispc</code> permanently into your <code>PATH</code> environment variable or you need to correctly set the <code>ISPC_EXECUTABLE</code> variable during CMake configuration.</p>
<p>You additionally have to install CMake 2.8.11 or higher and the developer version of GLUT.</p>
<p>Under macOS, all these dependencies can be installed using <a href="http://www.macports.org/">MacPorts</a>:</p>
<pre><code>sudo port install cmake tbb freeglut</code></pre>
<p>Depending on your Linux distribution you can install these dependencies using <code>yum</code> or <code>apt-get</code>. Some of these packages might already be installed or might have slightly different names.</p>
<p>Type the following to install the dependencies using <code>yum</code>:</p>
<pre><code>sudo yum install cmake.x86_64
sudo yum install tbb.x86_64 tbb-devel.x86_64
sudo yum install freeglut.x86_64 freeglut-devel.x86_64
sudo yum install libXmu.x86_64 libXi.x86_64
sudo yum install libXmu-devel.x86_64 libXi-devel.x86_64</code></pre>
<p>Type the following to install the dependencies using <code>apt-get</code>:</p>
<pre><code>sudo apt-get install cmake-curses-gui
sudo apt-get install libtbb-dev
sudo apt-get install freeglut3-dev
sudo apt-get install libxmu-dev libxi-dev</code></pre>
<p>Finally you can compile Embree using CMake. Create a build directory inside the Embree root directory and execute <code>ccmake ..</code> inside this build directory.</p>
<pre><code>mkdir build
cd build
ccmake ..</code></pre>
<p>Per default CMake will use the compilers specified with the <code>CC</code> and <code>CXX</code> environment variables. Should you want to use a different compiler, run <code>cmake</code> first and set the <code>CMAKE_CXX_COMPILER</code> and <code>CMAKE_C_COMPILER</code> variables to the desired compiler. For example, to use the Intel® Compiler instead of the default GCC on most Linux machines (<code>g++</code> and <code>gcc</code>), execute</p>
<pre><code>cmake -DCMAKE_CXX_COMPILER=icpc -DCMAKE_C_COMPILER=icc ..</code></pre>
<p>Similarly, to use Clang set the variables to <code>clang++</code> and <code>clang</code>, respectively. Note that the compiler variables cannot be changed anymore after the first run of <code>cmake</code> or <code>ccmake</code>.</p>
<p>Running <code>ccmake</code> will open a dialog where you can perform various configurations as described below in <a href="#cmake-configuration">CMake Configuration</a>. After having configured Embree, press <code>c</code> (for configure) and <code>g</code> (for generate) to generate a Makefile and leave the configuration. The code can be compiled by executing make.</p>
<pre><code>make</code></pre>
<p>The executables will be generated inside the build folder. We recommend to finally install the Embree library and header files on your system. Therefore set the <code>CMAKE_INSTALL_PREFIX</code> to <code>/usr</code> in cmake and type:</p>
<pre><code>sudo make install</code></pre>
<p>If you keep the default <code>CMAKE_INSTALL_PREFIX</code> of <code>/usr/local</code> then you have to make sure the path <code>/usr/local/lib</code> is in your <code>LD_LIBRARY_PATH</code>.</p>
<p>You can also uninstall Embree again by executing:</p>
<pre><code>sudo make uninstall</code></pre>
<p>If you cannot install Embree on your system (e.g. when you don’t have administrator rights) you need to add embree_root_directory/build to your <code>LD_LIBRARY_PATH</code>.</p>
<h2 id="windows">Windows</h2>
<p>Embree is tested under Windows using the Visual Studio 2017, Visual Studio 2015 (Update 1) compiler (Win32 and x64), Visual Studio 2013 (Update 5) compiler (Win32 and x64), Intel® Compiler 17.0 (Update 1) (Win32 and x64), Intel® Compiler 16.0 (Update 1) (Win32 and x64), and Clang 3.9 (Win32 and x64). Using the Visual Studio 2015 compiler, Visual Studio 2013 compiler, Intel® Compiler, and Clang you can compile Embree for AVX2. To compile Embree for AVX-512 you have to use the Intel® Compiler.</p>
<p>Embree supports using the Intel® Threading Building Blocks (TBB) as the tasking system. For performance and flexibility reasons we recommend to use Embree with the Intel® Threading Building Blocks (TBB) and best also use TBB inside your application. Optionally you can disable TBB in Embree through the <code>EMBREE_TASKING_SYSTEM</code> CMake variable.</p>
<p>Embree will either find the Intel® Threading Building Blocks (TBB) installation that comes with the Intel® Compiler, or you can install the binary distribution of TBB directly from <a href="https://www.threadingbuildingblocks.org/download">www.threadingbuildingblocks.org</a> into a folder named <code>tbb</code> into your Embree root directory. You also have to make sure that the libraries <code>tbb.dll</code> and <code>tbb_malloc.dll</code> can be found when executing your Embree applications, e.g. by putting the path to these libraries into your <code>PATH</code> environment variable.</p>
<p>Embree supports the Intel® SPMD Program Compiler (ISPC), which allows straightforward parallelization of an entire renderer. When installing ISPC, make sure to download an ISPC version from <a href="https://ispc.github.io/downloads.html">ispc.github.io</a> that is compatible with your Visual Studio version. There are two ISPC versions, one for Visual Studio 2013 and earlier, and one for Visual Studio 2015 and later. When using the wrong ISPC version you will get link errors. After installation, put the path to <code>ispc.exe</code> permanently into your <code>PATH</code> environment variable or you need to correctly set the <code>ISPC_EXECUTABLE</code> variable during CMake configuration. We have tested ISPC version 1.9.1. If you do not want to use ISPC then you can disable <code>EMBREE_ISPC_SUPPORT</code> in CMake.</p>
<p>You additionally have to install <a href="http://www.cmake.org/download/">CMake</a> (version 2.8.11 or higher). Note that you need a native Windows CMake installation, because CMake under Cygwin cannot generate solution files for Visual Studio.</p>
<h3 id="using-the-ide">Using the IDE</h3>
<p>Run <code>cmake-gui</code>, browse to the Embree sources, set the build directory and click Configure. Now you can select the Generator, e.g. “Visual Studio 12 2013” for a 32-bit build or “Visual Studio 12 2013 Win64” for a 64-bit build.</p>
<p>To use a different compiler than the Microsoft Visual C++ compiler, you additionally need to specify the proper compiler toolset through the option “Optional toolset to use (-T parameter)”. E.g. to use Clang for compilation set the toolset to “LLVM-vs2013”, to use the Intel® Compiler 2017 for compilation set the toolset to “Intel C++ Compiler 17.0”.</p>
<p>Do not change the toolset manually in a solution file (neither through the project properties dialog, nor through the “Use Intel Compiler” project context menu), because then some compiler specific command line options cannot be set by CMake.</p>
<p>Most configuration parameters described in the <a href="#cmake-configuration">CMake Configuration</a> can be set under Windows as well. Finally, click “Generate” to create the Visual Studio solution files.</p>
<table>
<caption>Windows-specific CMake build options for Embree.</caption>
<colgroup>
<col width="34%" />
<col width="25%" />
<col width="37%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Option</th>
<th align="left">Description</th>
<th align="left">Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CMAKE_CONFIGURATION_TYPE</td>
<td align="left">List of generated configurations.</td>
<td align="left">Debug;Release;RelWithDebInfo</td>
</tr>
<tr class="even">
<td align="left">USE_STATIC_RUNTIME</td>
<td align="left">Use the static version of the C/C++ runtime library.</td>
<td align="left">OFF</td>
</tr>
</tbody>
</table>
<p>Use the generated Visual Studio solution file <code>embree2.sln</code> to compile the project. To build Embree with support for the AVX2 instruction set you need at least Visual Studio 2013 (Update 4).</p>
<p>We recommend enabling syntax highlighting for the <code>.ispc</code> source and <code>.isph</code> header files. To do so open Visual Studio, go to Tools ⇒ Options ⇒ Text Editor ⇒ File Extension and add the <code>isph</code> and <code>ispc</code> extensions for the “Microsoft Visual C++” editor.</p>
<h3 id="using-the-command-line">Using the Command Line</h3>
<p>Embree can also be configured and built without the IDE using the Visual Studio command prompt:</p>
<pre><code>cd path\to\embree
mkdir build
cd build
cmake -G &quot;Visual Studio 12 2013 Win64&quot; ..
cmake --build . --config Release</code></pre>
<p>To use the Intel® Compiler, set the proper toolset, e.g. for Intel Compiler 17.0:</p>
<pre><code>cmake -G &quot;Visual Studio 12 2013 Win64&quot; -T &quot;Intel C++ Compiler 17.0&quot; ..
cmake --build . --config Release</code></pre>
<p>You can also build only some projects with the <code>--target</code> switch. Additional parameters after “<code>--</code>” will be passed to <code>msbuild</code>. For example, to build the Embree library in parallel use</p>
<pre><code>cmake --build . --config Release --target embree -- /m</code></pre>
<h2 id="cmake-configuration">CMake Configuration</h2>
<p>The default CMake configuration in the configuration dialog should be appropriate for most usages. The following table describes all parameters that can be configured in CMake:</p>
<table>
<caption>CMake build options for Embree.</caption>
<colgroup>
<col width="41%" />
<col width="44%" />
<col width="10%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Option</th>
<th align="left">Description</th>
<th align="left">Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CMAKE_BUILD_TYPE</td>
<td align="left">Can be used to switch between Debug mode (Debug), Release mode (Release), and Release mode with enabled assertions and debug symbols (RelWithDebInfo).</td>
<td align="left">Release</td>
</tr>
<tr class="even">
<td align="left">EMBREE_STACK_PROTECTOR</td>
<td align="left">Enables protection of return address from buffer overwrites.</td>
<td align="left">OFF</td>
</tr>
<tr class="odd">
<td align="left">EMBREE_ISPC_SUPPORT</td>
<td align="left">Enables ISPC support of Embree.</td>
<td align="left">ON</td>
</tr>
<tr class="even">
<td align="left">EMBREE_STATIC_LIB</td>
<td align="left">Builds Embree as a static library. When using the statically compiled Embree library, you have to define ENABLE_STATIC_LIB before including rtcore.h in your application.</td>
<td align="left">OFF</td>
</tr>
<tr class="odd">
<td align="left">EMBREE_IGNORE_CMAKE_CXX_FLAGS</td>
<td align="left">When enabled, Embree ignores default CMAKE_CXX_FLAGS.</td>
<td align="left">ON</td>
</tr>
<tr class="even">
<td align="left">EMBREE_TUTORIALS</td>
<td align="left">Enables build of Embree tutorials.</td>
<td align="left">ON</td>
</tr>
<tr class="odd">
<td align="left">EMBREE_BACKFACE_CULLING</td>
<td align="left">Enables backface culling, i.e. only surfaces facing a ray can be hit.</td>
<td align="left">OFF</td>
</tr>
<tr class="even">
<td align="left">EMBREE_FILTER_FUNCTION</td>
<td align="left">Enables the intersection filter feature.</td>
<td align="left">ON</td>
</tr>
<tr class="odd">
<td align="left">EMBREE_RAY_MASK</td>
<td align="left">Enables the ray masking feature.</td>
<td align="left">OFF</td>
</tr>
<tr class="even">
<td align="left">EMBREE_RAY_PACKETS</td>
<td align="left">Enables ray packet support.</td>
<td align="left">ON</td>
</tr>
<tr class="odd">
<td align="left">EMBREE_IGNORE_INVALID_RAYS</td>
<td align="left">Makes code robust against the risk of full-tree traversals caused by invalid rays (e.g. rays containing INF/NaN as origins).</td>
<td align="left">OFF</td>
</tr>
<tr class="even">
<td align="left">EMBREE_TASKING_SYSTEM</td>
<td align="left">Chooses between Intel® Threading Building Blocks (TBB) or an internal tasking system (INTERNAL).</td>
<td align="left">TBB</td>
</tr>
<tr class="odd">
<td align="left">EMBREE_MAX_ISA</td>
<td align="left">Select highest supported ISA (SSE2, SSE4.2, AVX, AVX2, AVX512KNL, AVX512SKX, or NONE). When set to NONE the EMBREE_ISA_* variables can be used to enable ISAs individually.</td>
<td align="left">AVX2</td>
</tr>
<tr class="even">
<td align="left">EMBREE_ISA_SSE2</td>
<td align="left">Enables SSE2 when EMBREE_MAX_ISA is set to NONE.</td>
<td align="left">OFF</td>
</tr>
<tr class="odd">
<td align="left">EMBREE_ISA_SSE42</td>
<td align="left">Enables SSE4.2 when EMBREE_MAX_ISA is set to NONE.</td>
<td align="left">OFF</td>
</tr>
<tr class="even">
<td align="left">EMBREE_ISA_AVX</td>
<td align="left">Enables AVX when EMBREE_MAX_ISA is set to NONE.</td>
<td align="left">OFF</td>
</tr>
<tr class="odd">
<td align="left">EMBREE_ISA_AVX2</td>
<td align="left">Enables AVX2 when EMBREE_MAX_ISA is set to NONE.</td>
<td align="left">OFF</td>
</tr>
<tr class="even">
<td align="left">EMBREE_ISA_AVX512KNL</td>
<td align="left">Enables AVX-512 for Xeon Phi when EMBREE_MAX_ISA is set to NONE.</td>
<td align="left">OFF</td>
</tr>
<tr class="odd">
<td align="left">EMBREE_ISA_AVX512SKX</td>
<td align="left">Enables AVX-512 for Skylake when EMBREE_MAX_ISA is set to NONE.</td>
<td align="left">OFF</td>
</tr>
<tr class="even">
<td align="left">EMBREE_GEOMETRY_TRIANGLE</td>
<td align="left">Enables support for triangle geometries.</td>
<td align="left">ON</td>
</tr>
<tr class="odd">
<td align="left">EMBREE_GEOMETRY_QUAD</td>
<td align="left">Enables support for quad geometries.</td>
<td align="left">ON</td>
</tr>
<tr class="even">
<td align="left">EMBREE_GEOMETRY_CURVE</td>
<td align="left">Enables support for curve geometries.</td>
<td align="left">ON</td>
</tr>
<tr class="odd">
<td align="left">EMBREE_GEOMETRY_SUBDIVISION</td>
<td align="left">Enables support for subdivision geometries.</td>
<td align="left">ON</td>
</tr>
<tr class="even">
<td align="left">EMBREE_GEOMETRY_USER</td>
<td align="left">Enables support for user geometries.</td>
<td align="left">ON</td>
</tr>
<tr class="odd">
<td align="left">EMBREE_NATIVE_SPLINE_BASIS</td>
<td align="left">Specifies the spline basis Embree uses internally for its calculations. Hair and curves using this basis can be rendered directly, others are converted.</td>
<td align="left">BEZIER</td>
</tr>
</tbody>
</table>
<p>When using the statically compiled Embree library, you have to define ENABLE_STATIC_LIB before including <code>rtcore.h</code> in your application. Further multiple static libraries are generated for the different ISAs selected (e.g. <code>embree3.a</code>, <code>embree3_sse42.a</code>, <code>embree3_avx.a</code>, <code>embree3_avx2.a</code>, <code>embree3_avx512knl.a</code>, <code>embree3_avx512skx.a</code>). You have to link these libraries in exactly this order of increasing ISA.</p>
<h1 id="using-embree">Using Embree</h1>
<p>The most convenient way of using Embree is through CMake. Just let CMake find Embree using the <code>FIND_PACKAGE</code> function inside your <code>CMakeLists.txt</code> file:</p>
<pre><code> FIND_PACKAGE(embree 3.0 REQUIRED)</code></pre>
<p>If you installed Embree using the Linux RPM or macOS PKG installer, this will automatically find Embree. If you used the <code>zip</code> or <code>tar.gz</code> files to extract Embree, you need to set the <code>embree_DIR</code> variable to the folder you extracted Embree to. If you used the Windows MSI installer, you need to set <code>embree_DIR</code> to point to the Embree install location (e.g. <code>C:\Program Files\Intel\Embree3</code>).</p>
<p>The <code>FIND_PACKAGE</code> CMake function will set the <code>EMBREE_INCLUDE_DIRS</code> variable to point to the directory containing the Embree headers. You should add this folder to the include directories of your build:</p>
<pre><code>INCLUDE_DIRECTORIES(${EMBREE_INCLUDE_DIRS})</code></pre>
<p>Further, the <code>EMBREE_LIBRARY</code> variable will point to the Embree library to link against. Link against Embree the following way:</p>
<pre><code>TARGET_LINK_LIBRARIES(application ${EMBREE_LIBRARY})</code></pre>
<p>Now please have a look at the [Embree Tutorials] source code and the <a href="api.html">Embree API</a> section to get started.</p>
<p></p>
      </div>

      <div id="footer">
        © 2009–2017 Intel Corporation <a href="legal.html">Disclaimer and Legal Information</a>
      </div>
    </div>
  </body>
</html>
